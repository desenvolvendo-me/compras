<div class='creditor-main'>

  <div class="individual-field">
    <%= f.input :occupation_classification %>

    <div class='yui3-g'>
      <div class='yui3-u-1-2'>
        <%= f.input :municipal_public_administration %>
      </div>

      <div class='yui3-u-1-2'>
        <%= f.input :autonomous %>
      </div>
    </div>
  </div>

  <div class='yui3-g individual-field'>
    <div class='yui3-u-1-2'>
      <%= f.input :social_identification_number %>
    </div>

    <div class='yui3-u-1-2'>
      <%= f.input :contract_start_date %>
    </div>
  </div>

  <div class="company-field">
    <div class='yui3-g'>
      <div class='yui3-u-1-2'>
        <%= f.input :company_size, :disabled => true %>
      </div>

      <div class='yui3-u-1-2'>
        <%= f.input :choose_simple, :disabled => true %>
      </div>
    </div>

    <%= f.input :legal_nature, :disabled => true %>
  </div>
</div>

<script>
  function toggleEnabledDisabledFieldsForAutonomous() {
    if ( $('#creditor_autonomous').is(':checked') ){
      $('#creditor_social_identification_number, #creditor_contract_start_date').attr('disabled', false);
      $('#creditor_social_identification_number, #creditor_contract_start_date').requiredField(true);
    } else {
      $('#creditor_social_identification_number, #creditor_contract_start_date').attr('disabled', true);
      $('#creditor_social_identification_number, #creditor_contract_start_date').requiredField(false);
    }
  }

  $('#creditor_autonomous').click(function() {
    toggleEnabledDisabledFieldsForAutonomous();
  });

  toggleEnabledDisabledFieldsForAutonomous();
</script>
