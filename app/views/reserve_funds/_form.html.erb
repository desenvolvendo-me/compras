<div class="yui3-g">
  <div class="yui3-u-1-2">
    <%= f.input :entity %>
  </div>

  <div class="yui3-u-1-2">
    <%= f.input :year %>
  </div>
</div>

<%= f.input :status, :disabled => true %>
<%= f.input :reserve_allocation_type %>
<%= f.input :date %>
<%= f.input :budget_allocation %>
<%= link_to_modal_info 'reserve_fund_budget_allocation', f.object.budget_allocation %>
<%= f.input :budget_allocation_amount, :disabled => true, :input_html => { :value => number_with_precision(f.object.budget_allocation_amount) } %>
<%= f.input :value %>

<div class="yui3-g">
  <div class="yui3-u-1-3">
    <%= f.input :licitation_modality, :disabled => !f.object.licitation? %>
  </div>

  <div class="yui3-u-1-3">
    <%= f.input :licitation, :disabled => !f.object.licitation? %>
  </div>

  <div class="yui3-u-1-3">
    <%= f.input :process %>
  </div>
</div>

<%= f.input :creditor %>

<%= f.input :historic %>

<script>
  $("#reserve_fund_budget_allocation_id").change(function (event, data) {
    if (data) {
      var record = data.record;

      $('#reserve_fund_budget_allocation_amount').val(record.data("amount"));
    } else {
      $('#reserve_fund_budget_allocation_amount').val('');
    }
  });

  $("#reserve_fund_reserve_allocation_type_id").change(function (event, data) {
    if (data && data.record.data("label") == "Licitação") {
      $("#reserve_fund_licitation_modality").attr("disabled", false);
      $("#reserve_fund_licitation").attr("disabled", false);
    } else {
      $("#reserve_fund_licitation_modality").attr("disabled", true);
      $("#reserve_fund_licitation").attr("disabled", true);
    }
  });
</script>
