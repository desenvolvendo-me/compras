<div class="tabs">
  <ul>
    <li>
      <a href="#main">Principal</a>
    </li>
    <li>
      <a href="#schedules">Cronogramas de entrega</a>
    </li>
    <li>
      <a href="#supply_orders">Ordens de Fornecimento</a>
    </li>
    <li>
      <a href="#authorized_areas">Departamentos</a>
    </li>
    <li>
      <a href="#itens">Itens do Objeto</a>
    </li>
    <li>
      <a href="#supply_requests">Pedidos de Fornecimento</a>
    </li>
  </ul>

  <div id="main">
    <%= render 'main', :f => f %>
  </div>

  <div id="schedules">
    <%= render 'delivery_schedules', :f => f %>
  </div>

  <div id="supply_orders">
    <%= render 'supply_orders', :f => f %>
  </div>

  <div id="authorized_areas">
    <%= render 'authorized_areas', :f => f %>
  </div>
  
  <div id="itens">
    <%= render 'itens', :f => f %>
  </div>

  <div id="supply_requests">
    <%= render 'supply_requests', :f => f %>
  </div>

</div>

<script>
    function fillSequence() {
        $('div.nested-delivery-schedule .destroy[value=false]').each(function (index, item) {
            $(this).parents('.nested-delivery-schedule').find('.auto_sequence').val(index + 1);
        });
    }

    $('form.contract').on('click', '.remove_item', fillSequence);
    $('form.contract').on('nestedForm:afterAdd', fillSequence);
</script>
