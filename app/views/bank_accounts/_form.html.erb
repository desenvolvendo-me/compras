<%= f.input :name %>
<div class='yui3-g'>
  <div class='yui3-u-1-2'>
    <%= f.input :bank, :as => :modal, :hidden_field => :bank_id %>
  </div>

  <div class='yui3-u-1-2'>
    <%= f.input :agency %>
  </div>
</div>

<div class='yui3-g'>
  <div class='yui3-u-1-3'>
    <%= f.input :account_number, :input_html => { :size => 10 } %>
  </div>

  <div class='yui3-u-1-3'>
    <%= f.input :originator, :input_html => { :size => 10 } %>
  </div>
  <div class='yui3-u-1-3'>
    <%= f.input :number_agreement, :input_html => { :size => 10 } %>
  </div>
</div>

<script>
  $("#bank_account_bank_id").change(function () {
    var url = "<%= modal_agencies_path %>?",
    params = {
      locked_fields: ["bank"],
      bank_id: $(this).val()
    };

    url += jQuery.param(params);

    $("#bank_account_agency").attr('data-modal-url', url);

    if (this.value) {
      $("#bank_account_agency").attr('disabled', false);
    } else {
      $("#bank_account_agency").attr('disabled', true);
    }
  })
</script>
