<%= a.input :addressable_id, :as => :hidden %>
<%= a.input :addressable_type, :as => :hidden %>
<%= a.input :street, :hint => false %>
<%= a.input :number, :input_html => { :size => 6 } %>
<%= a.input :block %>
<%= a.input :room, :input_html => { :size => 6 } %>
<%= a.input :complement %>
<%= a.input :neighborhood, :url => modal_neighborhoods_path(:street_id => a.object.street_id), :disabled => a.object.street.nil? %>
<%= a.input :condominium %>
<%= a.input :land_subdivision %>
<%= a.input :city, :disabled => true %>
<%= a.input :zip_code, :input_html => { :size => 10 } %>
<%= a.input :state, :disabled => true %>

<script>
  $("#<%= a.sanitized_object_name %>_street_id").change(function (event, street) {
    if (street) {
      $("#<%= a.sanitized_object_name %>_neighborhood").attr("data-modal-url", "<%= modal_neighborhoods_path %>?street_id=" + street.id).val("");
      $("#<%= a.sanitized_object_name %>_neighborhood_id").val("");
    }

    if ($(this).val()) {
      $("#<%= a.sanitized_object_name %>_neighborhood").attr("disabled", false);
    } else {
      $("#<%= a.sanitized_object_name %>_neighborhood").attr("disabled", true);
    }
  }).change();

  $("#<%= a.sanitized_object_name %>_neighborhood_id").change(function (event, neighborhood) {
    if (neighborhood) {
      $("#<%= a.sanitized_object_name %>_city").val(neighborhood.city);
      $("#<%= a.sanitized_object_name %>_state").val(neighborhood.state);
    }
  });
</script>
